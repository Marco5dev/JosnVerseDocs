---
title: Update method
---

import { Steps, Callout, FileTree } from "nextra/components";

# Using the `update` Method with the `json` Adapter

After successfully establishing a connection to your database (refer to the documentation on [Connecting to a Database](/docs/introduction/installation)), you can leverage the `load` method provided by the `json` adapter to interact with your data.

<Steps>
  ### Setting Up the Database

```javascript copy showLineNumbers
const versedb = require("verse.db");
// Alternatively, use import for modern JavaScript projects:
import versedb from "versedb";

// Create a connection to the database using the `versedb.connect` function:
const db = new versedb.connect({
  adapter: "json", // Specify the 'json' adapter
  dataPath: "./data", // Path to the directory containing your JSON files
  devLogs: { enable: true, path: "./logs" }, // Enable development logs (optional)
  encryption: { secret: "" }, // Encryption just add your secret to make the data more secure (defualt secret: "versedb")
});
```

### Calling the `update` Method

adding an object to a data file

```js copy showLineNumbers {14}
// this is the data we have
const data = [
  { _id: "1234", name: "John" },
  { _id: "5678", name: "Jane" },
];
// and this is out update query what we want to update and how to update it with our operation methods
const updateQuery = { $set: { name: "Mike" } };
// this is the search query of the item that we will update
const query = { name: "John" };
// this is the name of the json file "dataname.json"
const dataname = "dataname";

// Act
const result = await db.update(dataname, query, updateQuery);
```

- The `dataname` parameter represents the filename (without the `.json` extension) of the JSON file you want to load. This name is also used when performing other operations like `.add`, `.update`, `.remove`, and `.find` on the corresponding data set.

</Steps>

### the results:

after running the commands you will get an a result and this is the result :

```json showLineNumbers {4-7}
{
  "acknowledged": true,
  "message": "1 document(s) updated successfully.",
  "results": {
    "_id": "1234",
    "name": "Mike"
  }
}
```

### Operation Keys

<Steps>
### `$set`
Modifies an existing field's value or adds a new field if it doesn't exist.
```js showLineNumbers {9,12}
// this is our data for example
const data = [
    {_id: "1234", name: "Marco"},
    {_id: "5678", name: "Anas"}
]
// this is the query that we use to get the object and edit it
const query = { name: "Marco" }
// and this is outr update query with $set operationKey
const updateQuery = { $set: { name: "Kmosha" } }

// here we call our method to work
db.update("dataname", query, updateQuery);

```

### `$unset`
Deletes a particular field.

### `$inc`
Increments the value of a field by a specified amount.

### `$currentDate`
Sets the value of a field to the current date, either as a Date or a Timestamp.

### `$push`
Adds an element to an array.

### `$pull`
Removes all array elements that match a specified query.

### `$position`
Modifies the $push operator to specify the position in the array to add elements.

### `$max`
Updates the value of the field to the specified value if the specified value is greater than the current value.

### `$min`
Updates the value of the field to the specified value if the specified value is less than the current value.

### `$or`
Performs a logical OR operation on an array of two or more query expressions.

### `$addToSet`
Adds elements to an array only if they do not already exist in the set.

### `$pushAll`
Adds multiple values to an array.

### `$pop`
Removes the first or last element of an array.

### `$pullAll`
Removes all occurrences of specified values from an array.

### `$rename`
Renames a field.

### `$bit`
Performs bitwise AND, OR, and XOR updates of integer values.

### `$mul`
Multiplies the value of a field by a specified amount.

### `$each`
Modifies the $push and $addToSet operators to append multiple values to an array.

### `$slice`
Limits the number of elements in an array that matches the query condition.

### `$sort`
Orders the elements of an array.


</Steps>
```
